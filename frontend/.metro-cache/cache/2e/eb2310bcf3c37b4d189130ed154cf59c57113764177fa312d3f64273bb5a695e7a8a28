{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":39,"index":129}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/contexts/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.AuthProvider = AuthProvider;\n  exports.useAuth = useAuth;\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _react = require(_dependencyMap[1], \"react\");\n  var _expoConstants = require(_dependencyMap[2], \"expo-constants\");\n  var Constants = _interopDefault(_expoConstants);\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function AuthProvider({\n    children\n  }) {\n    _s();\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [isLoading, setIsLoading] = (0, _react.useState)(false);\n    const API_BASE_URL = Constants.default.expoConfig?.extra?.EXPO_PUBLIC_BACKEND_URL || _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL;\n    const fetchUser = async authToken => {\n      try {\n        const response = await fetch(`${API_BASE_URL}/api/auth/me`, {\n          headers: {\n            'Authorization': `Bearer ${authToken}`,\n            'Content-Type': 'application/json'\n          }\n        });\n        if (response.ok) {\n          const userData = await response.json();\n          setUser(userData);\n        } else {\n          throw new Error('Failed to fetch user');\n        }\n      } catch (error) {\n        console.error('Error fetching user:', error);\n        logout();\n      }\n    };\n    const login = async (email, password) => {\n      setIsLoading(true);\n      try {\n        const response = await fetch(`${API_BASE_URL}/api/auth/login`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            email,\n            password\n          })\n        });\n        const data = await response.json();\n        if (response.ok) {\n          const {\n            access_token\n          } = data;\n          setToken(access_token);\n          await fetchUser(access_token);\n        } else {\n          throw new Error(data.detail || 'Login failed');\n        }\n      } catch (error) {\n        console.error('Login error:', error);\n        throw error;\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    const register = async (email, password, name, company) => {\n      setIsLoading(true);\n      try {\n        const response = await fetch(`${API_BASE_URL}/api/auth/register`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            email,\n            password,\n            name,\n            company\n          })\n        });\n        const data = await response.json();\n        if (response.ok) {\n          const {\n            access_token\n          } = data;\n          setToken(access_token);\n          await fetchUser(access_token);\n        } else {\n          throw new Error(data.detail || 'Registration failed');\n        }\n      } catch (error) {\n        console.error('Registration error:', error);\n        throw error;\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    const logout = () => {\n      setToken(null);\n      setUser(null);\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        login,\n        register,\n        logout,\n        isLoading,\n        isAuthenticated: !!user && !!token\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 5\n    }, this);\n  }\n  _s(AuthProvider, \"sU8OMJKF0Qp/UIqGob+t3kpFWy0=\");\n  _c = AuthProvider;\n  function useAuth() {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  }\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":146,"map":[[15,2,27,0,"exports"],[15,9,27,0],[15,10,27,0,"AuthProvider"],[15,22,27,0],[15,25,27,0,"AuthProvider"],[15,37,27,0],[16,2,133,0,"exports"],[16,9,133,0],[16,10,133,0,"useAuth"],[16,17,133,0],[16,20,133,0,"useAuth"],[16,27,133,0],[17,2,139,1],[17,6,139,1,"_expoVirtualEnv"],[17,21,139,1],[17,24,139,1,"require"],[17,31,139,1],[17,32,139,1,"_dependencyMap"],[17,46,139,1],[18,2,1,0],[18,6,1,0,"_react"],[18,12,1,0],[18,15,1,0,"require"],[18,22,1,0],[18,23,1,0,"_dependencyMap"],[18,37,1,0],[19,2,2,0],[19,6,2,0,"_expoConstants"],[19,20,2,0],[19,23,2,0,"require"],[19,30,2,0],[19,31,2,0,"_dependencyMap"],[19,45,2,0],[20,2,2,0],[20,6,2,0,"Constants"],[20,15,2,0],[20,18,2,0,"_interopDefault"],[20,33,2,0],[20,34,2,0,"_expoConstants"],[20,48,2,0],[21,2,2,39],[21,6,2,39,"_reactJsxDevRuntime"],[21,25,2,39],[21,28,2,39,"require"],[21,35,2,39],[21,36,2,39,"_dependencyMap"],[21,50,2,39],[22,2,21,0],[22,8,21,6,"AuthContext"],[22,19,21,17],[22,35,21,20],[22,39,21,20,"createContext"],[22,45,21,33],[22,46,21,33,"createContext"],[22,59,21,33],[22,61,21,63,"undefined"],[22,70,21,72],[22,71,21,73],[23,2,27,7],[23,11,27,16,"AuthProvider"],[23,23,27,28,"AuthProvider"],[23,24,27,29],[24,4,27,31,"children"],[25,2,27,59],[25,3,27,60],[25,5,27,62],[26,4,27,62,"_s"],[26,6,27,62],[27,4,28,2],[27,10,28,8],[27,11,28,9,"user"],[27,15,28,13],[27,17,28,15,"setUser"],[27,24,28,22],[27,25,28,23],[27,28,28,26],[27,32,28,26,"useState"],[27,38,28,34],[27,39,28,34,"useState"],[27,47,28,34],[27,49,28,48],[27,53,28,52],[27,54,28,53],[28,4,29,2],[28,10,29,8],[28,11,29,9,"token"],[28,16,29,14],[28,18,29,16,"setToken"],[28,26,29,24],[28,27,29,25],[28,30,29,28],[28,34,29,28,"useState"],[28,40,29,36],[28,41,29,36,"useState"],[28,49,29,36],[28,51,29,52],[28,55,29,56],[28,56,29,57],[29,4,30,2],[29,10,30,8],[29,11,30,9,"isLoading"],[29,20,30,18],[29,22,30,20,"setIsLoading"],[29,34,30,32],[29,35,30,33],[29,38,30,36],[29,42,30,36,"useState"],[29,48,30,44],[29,49,30,44,"useState"],[29,57,30,44],[29,59,30,45],[29,64,30,50],[29,65,30,51],[30,4,32,2],[30,10,32,8,"API_BASE_URL"],[30,22,32,20],[30,25,32,23,"Constants"],[30,34,32,32],[30,35,32,32,"default"],[30,42,32,32],[30,43,32,33,"expoConfig"],[30,53,32,43],[30,55,32,45,"extra"],[30,60,32,50],[30,62,32,52,"EXPO_PUBLIC_BACKEND_URL"],[30,85,32,75],[30,89,32,75,"_expoVirtualEnv"],[30,104,32,75],[30,105,32,75,"env"],[30,108,32,75],[30,109,32,75,"EXPO_PUBLIC_BACKEND_URL"],[30,132,32,114],[31,4,34,2],[31,10,34,8,"fetchUser"],[31,19,34,17],[31,22,34,20],[31,28,34,27,"authToken"],[31,37,34,44],[31,41,34,49],[32,6,35,4],[32,10,35,8],[33,8,36,6],[33,14,36,12,"response"],[33,22,36,20],[33,25,36,23],[33,31,36,29,"fetch"],[33,36,36,34],[33,37,36,35],[33,40,36,38,"API_BASE_URL"],[33,52,36,50],[33,66,36,64],[33,68,36,66],[34,10,37,8,"headers"],[34,17,37,15],[34,19,37,17],[35,12,38,10],[35,27,38,25],[35,29,38,27],[35,39,38,37,"authToken"],[35,48,38,46],[35,50,38,48],[36,12,39,10],[36,26,39,24],[36,28,39,26],[37,10,40,8],[38,8,41,6],[38,9,41,7],[38,10,41,8],[39,8,43,6],[39,12,43,10,"response"],[39,20,43,18],[39,21,43,19,"ok"],[39,23,43,21],[39,25,43,23],[40,10,44,8],[40,16,44,14,"userData"],[40,24,44,22],[40,27,44,25],[40,33,44,31,"response"],[40,41,44,39],[40,42,44,40,"json"],[40,46,44,44],[40,47,44,45],[40,48,44,46],[41,10,45,8,"setUser"],[41,17,45,15],[41,18,45,16,"userData"],[41,26,45,24],[41,27,45,25],[42,8,46,6],[42,9,46,7],[42,15,46,13],[43,10,47,8],[43,16,47,14],[43,20,47,18,"Error"],[43,25,47,23],[43,26,47,24],[43,48,47,46],[43,49,47,47],[44,8,48,6],[45,6,49,4],[45,7,49,5],[45,8,49,6],[45,15,49,13,"error"],[45,20,49,18],[45,22,49,20],[46,8,50,6,"console"],[46,15,50,13],[46,16,50,14,"error"],[46,21,50,19],[46,22,50,20],[46,44,50,42],[46,46,50,44,"error"],[46,51,50,49],[46,52,50,50],[47,8,51,6,"logout"],[47,14,51,12],[47,15,51,13],[47,16,51,14],[48,6,52,4],[49,4,53,2],[49,5,53,3],[50,4,55,2],[50,10,55,8,"login"],[50,15,55,13],[50,18,55,16],[50,24,55,16,"login"],[50,25,55,23,"email"],[50,30,55,36],[50,32,55,38,"password"],[50,40,55,54],[50,45,55,59],[51,6,56,4,"setIsLoading"],[51,18,56,16],[51,19,56,17],[51,23,56,21],[51,24,56,22],[52,6,57,4],[52,10,57,8],[53,8,58,6],[53,14,58,12,"response"],[53,22,58,20],[53,25,58,23],[53,31,58,29,"fetch"],[53,36,58,34],[53,37,58,35],[53,40,58,38,"API_BASE_URL"],[53,52,58,50],[53,69,58,67],[53,71,58,69],[54,10,59,8,"method"],[54,16,59,14],[54,18,59,16],[54,24,59,22],[55,10,60,8,"headers"],[55,17,60,15],[55,19,60,17],[56,12,61,10],[56,26,61,24],[56,28,61,26],[57,10,62,8],[57,11,62,9],[58,10,63,8,"body"],[58,14,63,12],[58,16,63,14,"JSON"],[58,20,63,18],[58,21,63,19,"stringify"],[58,30,63,28],[58,31,63,29],[59,12,63,31,"email"],[59,17,63,36],[60,12,63,38,"password"],[61,10,63,47],[61,11,63,48],[62,8,64,6],[62,9,64,7],[62,10,64,8],[63,8,66,6],[63,14,66,12,"data"],[63,18,66,16],[63,21,66,19],[63,27,66,25,"response"],[63,35,66,33],[63,36,66,34,"json"],[63,40,66,38],[63,41,66,39],[63,42,66,40],[64,8,68,6],[64,12,68,10,"response"],[64,20,68,18],[64,21,68,19,"ok"],[64,23,68,21],[64,25,68,23],[65,10,69,8],[65,16,69,14],[66,12,69,16,"access_token"],[67,10,69,29],[67,11,69,30],[67,14,69,33,"data"],[67,18,69,37],[68,10,70,8,"setToken"],[68,18,70,16],[68,19,70,17,"access_token"],[68,31,70,29],[68,32,70,30],[69,10,71,8],[69,16,71,14,"fetchUser"],[69,25,71,23],[69,26,71,24,"access_token"],[69,38,71,36],[69,39,71,37],[70,8,72,6],[70,9,72,7],[70,15,72,13],[71,10,73,8],[71,16,73,14],[71,20,73,18,"Error"],[71,25,73,23],[71,26,73,24,"data"],[71,30,73,28],[71,31,73,29,"detail"],[71,37,73,35],[71,41,73,39],[71,55,73,53],[71,56,73,54],[72,8,74,6],[73,6,75,4],[73,7,75,5],[73,8,75,6],[73,15,75,13,"error"],[73,20,75,18],[73,22,75,20],[74,8,76,6,"console"],[74,15,76,13],[74,16,76,14,"error"],[74,21,76,19],[74,22,76,20],[74,36,76,34],[74,38,76,36,"error"],[74,43,76,41],[74,44,76,42],[75,8,77,6],[75,14,77,12,"error"],[75,19,77,17],[76,6,78,4],[76,7,78,5],[76,16,78,14],[77,8,79,6,"setIsLoading"],[77,20,79,18],[77,21,79,19],[77,26,79,24],[77,27,79,25],[78,6,80,4],[79,4,81,2],[79,5,81,3],[80,4,83,2],[80,10,83,8,"register"],[80,18,83,16],[80,21,83,19],[80,27,83,19,"register"],[80,28,83,26,"email"],[80,33,83,39],[80,35,83,41,"password"],[80,43,83,57],[80,45,83,59,"name"],[80,49,83,71],[80,51,83,73,"company"],[80,58,83,89],[80,63,83,94],[81,6,84,4,"setIsLoading"],[81,18,84,16],[81,19,84,17],[81,23,84,21],[81,24,84,22],[82,6,85,4],[82,10,85,8],[83,8,86,6],[83,14,86,12,"response"],[83,22,86,20],[83,25,86,23],[83,31,86,29,"fetch"],[83,36,86,34],[83,37,86,35],[83,40,86,38,"API_BASE_URL"],[83,52,86,50],[83,72,86,70],[83,74,86,72],[84,10,87,8,"method"],[84,16,87,14],[84,18,87,16],[84,24,87,22],[85,10,88,8,"headers"],[85,17,88,15],[85,19,88,17],[86,12,89,10],[86,26,89,24],[86,28,89,26],[87,10,90,8],[87,11,90,9],[88,10,91,8,"body"],[88,14,91,12],[88,16,91,14,"JSON"],[88,20,91,18],[88,21,91,19,"stringify"],[88,30,91,28],[88,31,91,29],[89,12,91,31,"email"],[89,17,91,36],[90,12,91,38,"password"],[90,20,91,46],[91,12,91,48,"name"],[91,16,91,52],[92,12,91,54,"company"],[93,10,91,62],[93,11,91,63],[94,8,92,6],[94,9,92,7],[94,10,92,8],[95,8,94,6],[95,14,94,12,"data"],[95,18,94,16],[95,21,94,19],[95,27,94,25,"response"],[95,35,94,33],[95,36,94,34,"json"],[95,40,94,38],[95,41,94,39],[95,42,94,40],[96,8,96,6],[96,12,96,10,"response"],[96,20,96,18],[96,21,96,19,"ok"],[96,23,96,21],[96,25,96,23],[97,10,97,8],[97,16,97,14],[98,12,97,16,"access_token"],[99,10,97,29],[99,11,97,30],[99,14,97,33,"data"],[99,18,97,37],[100,10,98,8,"setToken"],[100,18,98,16],[100,19,98,17,"access_token"],[100,31,98,29],[100,32,98,30],[101,10,99,8],[101,16,99,14,"fetchUser"],[101,25,99,23],[101,26,99,24,"access_token"],[101,38,99,36],[101,39,99,37],[102,8,100,6],[102,9,100,7],[102,15,100,13],[103,10,101,8],[103,16,101,14],[103,20,101,18,"Error"],[103,25,101,23],[103,26,101,24,"data"],[103,30,101,28],[103,31,101,29,"detail"],[103,37,101,35],[103,41,101,39],[103,62,101,60],[103,63,101,61],[104,8,102,6],[105,6,103,4],[105,7,103,5],[105,8,103,6],[105,15,103,13,"error"],[105,20,103,18],[105,22,103,20],[106,8,104,6,"console"],[106,15,104,13],[106,16,104,14,"error"],[106,21,104,19],[106,22,104,20],[106,43,104,41],[106,45,104,43,"error"],[106,50,104,48],[106,51,104,49],[107,8,105,6],[107,14,105,12,"error"],[107,19,105,17],[108,6,106,4],[108,7,106,5],[108,16,106,14],[109,8,107,6,"setIsLoading"],[109,20,107,18],[109,21,107,19],[109,26,107,24],[109,27,107,25],[110,6,108,4],[111,4,109,2],[111,5,109,3],[112,4,111,2],[112,10,111,8,"logout"],[112,16,111,14],[112,19,111,17,"logout"],[112,20,111,17],[112,25,111,23],[113,6,112,4,"setToken"],[113,14,112,12],[113,15,112,13],[113,19,112,17],[113,20,112,18],[114,6,113,4,"setUser"],[114,13,113,11],[114,14,113,12],[114,18,113,16],[114,19,113,17],[115,4,114,2],[115,5,114,3],[116,4,116,2],[116,24,117,4],[116,28,117,4,"_reactJsxDevRuntime"],[116,47,117,4],[116,48,117,4,"jsxDEV"],[116,54,117,4],[116,56,117,5,"AuthContext"],[116,67,117,16],[116,68,117,17,"Provider"],[116,76,117,25],[117,6,118,6,"value"],[117,11,118,11],[117,13,118,13],[118,8,119,8,"user"],[118,12,119,12],[119,8,120,8,"token"],[119,13,120,13],[120,8,121,8,"login"],[120,13,121,13],[121,8,122,8,"register"],[121,16,122,16],[122,8,123,8,"logout"],[122,14,123,14],[123,8,124,8,"isLoading"],[123,17,124,17],[124,8,125,8,"isAuthenticated"],[124,23,125,23],[124,25,125,25],[124,26,125,26],[124,27,125,27,"user"],[124,31,125,31],[124,35,125,35],[124,36,125,36],[124,37,125,37,"token"],[125,6,126,6],[125,7,126,8],[126,6,126,8,"children"],[126,14,126,8],[126,16,128,7,"children"],[127,4,128,15],[128,6,128,15,"fileName"],[128,14,128,15],[128,16,128,15,"_jsxFileName"],[128,28,128,15],[129,6,128,15,"lineNumber"],[129,16,128,15],[130,6,128,15,"columnNumber"],[130,18,128,15],[131,4,128,15],[131,11,129,26],[131,12,129,27],[132,2,131,0],[133,2,131,1,"_s"],[133,4,131,1],[133,5,27,16,"AuthProvider"],[133,17,27,28],[134,2,27,28,"_c"],[134,4,27,28],[134,7,27,16,"AuthProvider"],[134,19,27,28],[135,2,133,7],[135,11,133,16,"useAuth"],[135,18,133,23,"useAuth"],[135,19,133,23],[135,21,133,26],[136,4,133,26,"_s2"],[136,7,133,26],[137,4,134,2],[137,10,134,8,"context"],[137,17,134,15],[137,20,134,18],[137,24,134,18,"useContext"],[137,30,134,28],[137,31,134,28,"useContext"],[137,41,134,28],[137,43,134,29,"AuthContext"],[137,54,134,40],[137,55,134,41],[138,4,135,2],[138,8,135,6,"context"],[138,15,135,13],[138,20,135,18,"undefined"],[138,29,135,27],[138,31,135,29],[139,6,136,4],[139,12,136,10],[139,16,136,14,"Error"],[139,21,136,19],[139,22,136,20],[139,67,136,65],[139,68,136,66],[140,4,137,2],[141,4,138,2],[141,11,138,9,"context"],[141,18,138,16],[142,2,139,0],[143,2,139,1,"_s2"],[143,5,139,1],[143,6,133,16,"useAuth"],[143,13,133,23],[144,2,133,23],[144,6,133,23,"_c"],[144,8,133,23],[145,2,133,23,"$RefreshReg$"],[145,14,133,23],[145,15,133,23,"_c"],[145,17,133,23],[146,0,133,23],[146,3]],"functionMap":{"names":["<global>","AuthProvider","fetchUser","login","register","logout","useAuth"],"mappings":"AAA;OC0B;oBCO;GDmB;gBEE;GF0B;mBGE;GH0B;iBIE;GJG;CDiB;OME;CNM"},"hasCjsExports":false},"type":"js/module"}]}